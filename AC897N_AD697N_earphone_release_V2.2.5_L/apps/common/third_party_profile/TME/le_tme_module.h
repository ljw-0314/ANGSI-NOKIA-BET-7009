
// binary representation
// attribute size in bytes (16), flags(16), handle (16), uuid (16/128), value(...)

#ifndef _LE_SERVER_MODULE_H
#define _LE_SERVER_MODULE_H

#include <stdint.h>
#include "bt_common.h"
#if (TCFG_BLE_DEMO_SELECT == DEF_BLE_TME_ADV)
// #include <le_user.h>
//
// gatt profile include file, generated by jieli gatt_inc_generator.exe
//

#define SDK_BLE_PROFILE_DATA profile_data


const uint8_t profile_data[] = {
    //////////////////////////////////////////////////////
    //
    // 0x0001 PRIMARY_SERVICE  0x1800
    //
    //////////////////////////////////////////////////////
    0x0a, 0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x28, 0x00, 0x18,

    /* CHARACTERISTIC,  2A00, READ | DYNAMIC, */
    // 0x0002 CHARACTERISTIC 2A00 READ | DYNAMIC
    0x0d, 0x00, 0x02, 0x00, 0x02, 0x00, 0x03, 0x28, 0x02, 0x03, 0x00, 0x00, 0x2a,
    // 0x0003 VALUE 2A00 READ | DYNAMIC
    0x08, 0x00, 0x02, 0x01, 0x03, 0x00, 0x00, 0x2a,

    //////////////////////////////////////////////////////
    //
    // 0x0004 PRIMARY_SERVICE  0000FD90-0000-1000-8000-00805F9B34FB
    //
    //////////////////////////////////////////////////////
    0x18, 0x00, 0x02, 0x00, 0x04, 0x00, 0x00, 0x28, 0xfb, 0x34, 0x9b, 0x5f, 0x80, 0x00, 0x00, 0x80, 0x00, 0x10, 0x00, 0x00, 0x90, 0xfd, 0x00, 0x00,


    /* CHARACTERISTIC,  CA235943-1810-45E6-8326-FC8CA3BC45CE, READ | NOTIFY|DYNAMIC, */
    // 0x0005 CHARACTERISTIC CA235943-1810-45E6-8326-FC8CA3BC45CE READ | NOTIFY|DYNAMIC
    0x1b, 0x00, 0x02, 0x00, 0x05, 0x00, 0x03, 0x28, 0x12, 0x06, 0x00, 0xce, 0x45, 0xbc, 0xa3, 0x8c, 0xfc, 0x26, 0x83, 0xe6, 0x45, 0x10, 0x18, 0x43, 0x59, 0x23, 0xca,
    // 0x0006 VALUE CA235943-1810-45E6-8326-FC8CA3BC45CE READ | NOTIFY|DYNAMIC
    0x16, 0x00, 0x12, 0x03, 0x06, 0x00, 0xce, 0x45, 0xbc, 0xa3, 0x8c, 0xfc, 0x26, 0x83, 0xe6, 0x45, 0x10, 0x18, 0x43, 0x59, 0x23, 0xca,
    // 0x0007 CLIENT_CHARACTERISTIC_CONFIGURATION
    0x0a, 0x00, 0x0a, 0x01, 0x07, 0x00, 0x02, 0x29, 0x00, 0x00,

    /* CHARACTERISTIC,  68745353-1810-4B13-83A2-C1B21B652C9B, WRITE |DYNAMIC, */
    // 0x0008 CHARACTERISTIC 68745353-1810-4B13-83A2-C1B21B652C9B WRITE |DYNAMIC
    0x1b, 0x00, 0x02, 0x00, 0x08, 0x00, 0x03, 0x28, 0x08, 0x09, 0x00, 0x9b, 0x2c, 0x65, 0x1b, 0xb2, 0xc1, 0xa2, 0x83, 0x13, 0x4b, 0x10, 0x18, 0x53, 0x53, 0x74, 0x68,
    // 0x0009 VALUE 68745353-1810-4B13-83A2-C1B21B652C9B WRITE |DYNAMIC
    0x16, 0x00, 0x08, 0x03, 0x09, 0x00, 0x9b, 0x2c, 0x65, 0x1b, 0xb2, 0xc1, 0xa2, 0x83, 0x13, 0x4b, 0x10, 0x18, 0x53, 0x53, 0x74, 0x68,

    // END
    0x00, 0x00,
};
// characteristics <--> handles

#define ATT_CHARACTERISTIC_2a00_01_VALUE_HANDLE 0x0003
#define ATT_CHARACTERISTIC_CA235943_1810_45E6_8326_FC8CA3BC45CE_01_VALUE_HANDLE 0x0006
#define ATT_CHARACTERISTIC_CA235943_1810_45E6_8326_FC8CA3BC45CE_01_CLIENT_CONFIGURATION_HANDLE 0x0007
#define ATT_CHARACTERISTIC_68745353_1810_4B13_83A2_C1B21B652C9B_01_VALUE_HANDLE 0x0009

enum {
    BT_ADV_ENABLE,
    BT_ADV_DISABLE,
    BT_ADV_SET_EDR_CON_FLAG,
    BT_ADV_SET_BAT_CHARGE_L,
    BT_ADV_SET_BAT_CHARGE_R,
    BT_ADV_SET_BAT_CHARGE_C,
    BT_ADV_SET_BAT_PERCENT_L,
    BT_ADV_SET_BAT_PERCENT_R,
    BT_ADV_SET_BAT_PERCENT_C,
    BT_ADV_SET_NOTIFY_EN,
};

// BT_ADV_SET_EDR_CON_FLAG
#define SECNE_DISMISS			(0x00)
#define SECNE_UNCONNECTED		(0x01)
#define SECNE_CONNECTED			(0x02)
#define SECNE_CONNECTING		(0x03)
#define SECNE_CONNECTINLESS		(0x04)



extern int  bt_ble_adv_ioctl(u32 cmd, u32 priv, u8 mode);
extern void bt_adv_seq_change(void);
void tme_ble_init(void);


#endif
#endif
